---
layout: post
title: 遗留技术问题.md
categories: [私人博客]
description: 
keywords: 遗留技术问题.md
mermaid: false
sequence: false
flow: false
mathjax: false
mindmap: false
mindmap2: false
---
### **4.12 小公司一面**

1. **自我介绍**
2. **项目经验相关：**
   - 项目中分库分表的规则是如何设计的？
   - Spring Cloud 体系下，服务间的通信如何保证其可靠性？
   - 是否使用过 Nacos？其动态配置管理功能了解多少？
   - 如果 Nacos 集群发生故障，如何保障服务的正常运行？
   - 在项目中遇到过 Full GC 或内存泄漏的情况吗？如何排查和解决的？
   - 系统通过 Kafka 进行解耦后，如何保证最终的数据一致性？
3. **技术八股文：**
   - `HashMap` 与 `ConcurrentHashMap` 在并发场景下的主要区别是什么？
   - 请解释一下 `ThreadLocal` 的工作原理及其应用场景。
   - MySQL InnoDB 存储引擎的索引底层采用的是什么数据结构？
   - 请对比一下 Oracle 和 MySQL 数据库的优缺点。
   - Redis 的持久化机制有哪些（RDB 和 AOF）？它们各自的特点是什么？
   - Redis 集群模式下数据是如何进行分片的？
   - 请描述一下基于 Redis 实现分布式锁的方案。
   - 项目环境搭建到了哪个阶段？为什么要设计动态线程池？线程池的核心线程数是如何设定的？

### **4.14 上午 小公司一面（6分钟速通版）**

1. **多线程应用：** 除了直接创建 Thread 对象，还有哪些创建和使用多线程的方式？（例如 `CompletableFuture` 异步编排），主线程如何有效地等待并获取子线程的执行结果或信号？（例如 `Thread.join()`、`Object.wait/notify`、`Condition`、`CountDownLatch`）
2. **并发锁机制：**`synchronized` 关键字和 `ReentrantLock` 类有什么主要区别？
3. **Redis 应用：** Redis 的常用数据类型有哪些？分别适用于哪些业务场景？
4. **Spring 事务：** 在哪些情况下 Spring 的声明式事务会失效？
5. **SQL 优化：** 请分享一些你常用的 SQL 优化技巧。
6. **分布式锁应用：** 在项目中是如何应用分布式锁的？

### **4.14 下午 小公司笔试+面试**

1. **问题排查：** 如果线上某个接口响应突然变慢，你会如何进行排查？
2. **问题排查：** 如何排查数据库连接池被打满的问题？
3. **JVM 监控：** 如何查看 Java 应用的堆内存占用情况？OOM 错误通常发生在哪些内存区域？
4. **负载均衡：** 常用的服务负载均衡策略有哪些？按请求 ID 取模的策略是如何应用的？
5. **MySQL 新特性：** 你了解 MySQL 8.0 版本引入了哪些重要的新特性吗？
6. **存储引擎对比：** MyISAM 和 InnoDB 存储引擎的主要区别是什么？
7. **Redis 场景应用：** Redis 的数据类型分别适用于哪些场景？例如，如何使用 ZSet 实现排行榜功能？
8. **Spring Cloud 配置：** Spring Cloud 中服务间调用的超时时间是如何配置的？
9. **分布式协调：** ZooKeeper 在你的项目中是如何使用的？
10. **Linux 运维：** 如何在 Linux 系统中排查指定端口被哪个进程占用的问题？
11. **消息队列对比：** Kafka 和 RabbitMQ 的主要区别和适用场景是什么？
12. **数据一致性：** 如何保证多个服务同时操作同一张表时数据不会发生错乱？
13. **数据处理异常：** 如果遇到数据处理错乱的问题，你会如何解决？
14. **并发控制：** 分布式锁与数据库层面的乐观锁/悲观锁有什么区别和联系？
15. **Spring Boot Web：** Spring Boot 项目中如何解决跨域请求（CORS）的问题？
16. **设计模式：** 在项目中应用过哪些设计模式？例如，抽象工厂模式是如何实现的？抽象类和接口的主要区别是什么？
17. **架构理解：** 分布式系统和微服务架构之间有什么区别和联系？
18. **数据处理：** 如何高效地将百万行级别的 Excel 文件导入到 MySQL 数据库中？
19. **Redis 命令：** Redis 的 `INCR` 命令主要作用是什么？

### **4.15 上午 某小型公司**

1. **Spring AOP：** 请介绍一下 Spring AOP 的应用场景和实现原理。
2. **数据库设计：** 针对设置了唯一索引的字段，如果采用逻辑删除（标记位删除），在新增数据时可能会遇到什么问题？如何解决？
3. **SQL 优化实践**
4. **日志规范与实践**
5. **异构数据库同步：** 如何保证 Oracle 和 MySQL 之间的数据一致性？

### **4.15 下午 某小型公司**

1. **数据迁移：** 如何将包含 2000 万条数据的 Oracle 表迁移到 MySQL？
2. **大数据处理：** Java 程序如何在内存中高效比对百万级别的数据量？
3. **多线程基础：** 创建线程有哪几种主要方式？
4. **消息队列可靠性：** Kafka 如何保证消息不丢失？acks 参数的不同设置分别代表什么含义？
5. **JVM 相关知识**
6. **Spring Bean 线程安全：** Spring 管理的 Bean 在多线程环境下是否是线程安全的？为什么？
7. **无锁并发：** 在不使用锁的情况下，如何保证多线程操作的线程安全性？（例如 CAS）
8. **MySQL 性能优化：** SQL 优化技巧有哪些？什么是回表查询？
9. **Linux 常用命令**
10. **OOM 问题排查：** 线上发生 OOM 如何排查？具体步骤是怎样的？
11. **`HashMap` vs `ConcurrentHashMap`**
12. **Redis 持久化机制对比**

### **4.15 下午某小型公司（另一场）**

1. **线程池创建方式**
2. **性能问题排查：** 如何排查内存泄漏或 CPU 消耗过高的问题？
3. **JVM GC：** 常见的垃圾回收算法有哪些？
4. **SQL 实战：** 写一条 SQL 查询出平均分大于 60 分的学生信息。
5. **数据库性能优化：** 大表查询和更新慢如何优化？（例如索引、覆盖索引、连接查询优化等）
6. **Redis 运维：** 如何处理 Redis 中的大 Key 问题？
7. **Redis 高可用：** Redis 缓存穿透、雪崩、击穿现象分别是什么？如何解决？
8. **消息队列应用场景**
9. **RabbitMQ 幂等性：** RabbitMQ 消费端如何保证消息处理的幂等性？
10. **接口性能优化：** 接口查询慢的常见原因有哪些？如何进行优化？（例如 JIT 编译相关问题）

### **4.16 上午**

1. **MySQL MVCC：** 请解释一下 MVCC (多版本并发控制) 的原理。
2. **MySQL 索引失效：** 哪些情况下会导致索引失效？（例如 WHERE 子句中使用 OR，IN 子句是否一定会导致索引失效？）
3. **MySQL 联合索引：** 联合索引除了最左前缀原则外，还有哪些使用场景会导致索引失效？
4. **SQL JOIN 类型：** LEFT JOIN 和 INNER JOIN 的主要区别是什么？
5. **MySQL 数据维护：** 如何高效地批量删除 MySQL 表中的旧数据？
6. **MySQL 锁与事务：** MySQL 中的锁粒度有哪些？事务隔离级别有几种？
7. **数据库 ACID 特性**
8. **MySQL 执行计划：** 查看 MySQL 执行计划时，重点关注哪些字段？
9. **Redis 分布式锁进阶：** Redis 集群环境下，如何实现锁的自动续期？如果锁未能正常释放（例如服务宕机），如何处理？
10. **高并发场景设计 (秒杀)：** 如何基于 Redis 设计秒杀系统的高并发应对方案？
11. **高并发数据一致性：** 如何解决秒杀场景下的超卖和少卖问题？如何保障操作的幂等性？
12. **消息队列消费异常：** Kafka 消费失败或消息堆积时，如何处理？
13. **Java 并发基础：** Runnable 和 Callable 接口的主要区别是什么？
14. **Java 字符串：** 字符串拼接操作（例如使用 + 或 StringBuilder）会创建多少个对象？这些对象存储在 JVM 的哪个区域？
15. **数据库锁类型：** 共享锁和排他锁分别是什么？
16. **线程创建方式对比：** 使用线程池创建线程和直接 new Thread() 有什么区别和优势？
17. **CPU 性能排查：** CPU 使用率达到 100% 时，如何通过 Linux 命令进行排查？常见的原因有哪些？
18. **并发问题：** 请解释一下什么是死锁。
19. **线程池参数与行为：** 线程池的核心参数有哪些？它们是如何影响请求处理流程的？
20. **Redis 缓存击穿：** 针对 Redis 缓存击穿问题，延长缓存生效时间是一种解决方案吗？还有其他方案吗？
21. **JVM 内存结构与 GC：** JVM 内存划分为哪些区域？各自的作用是什么？年轻代和老年代的默认比例是多少？常见的垃圾回收算法有哪些？
22. **JVM 类加载机制：** 请简述一下 Java 的类加载器及其工作原理。
23. **无锁并发实现：** 除了 CAS，还有哪些不加锁的方式可以保障线程安全？

### **内包一面**

1. **分布式理论：** 请解释一下 CAP 原理，并结合实际场景进行应用分析。
2. **分布式理论：** CAP 理论存在哪些局限性？
3. **分布式锁对比：** 基于 Redis 和 ZooKeeper 实现分布式锁，各自有什么优缺点和适用场景？
4. **数据库对比与实践：** Oracle 和 MySQL 的主要区别是什么？在项目中遇到的分库分表方案有哪些具体问题？
5. **消息队列设计：** Kafka 是如何设计来实现高吞吐量的？
6. **Redis 锁细节：** Redis 分布式锁的超时时间应该如何合理设置？
7. **JVM Full GC：** 触发 Full GC 的常见原因有哪些？对象在什么时候会从年轻代晋升到老年代？
8. **Spring 循环依赖：** Spring 是如何解决 Bean 之间的循环依赖问题的？
9. **并发数据结构：** 了解 CLH 队列吗？它主要用于解决什么问题？
10. **Java 类加载：** 请描述一下一个 Java 类的完整初始化过程。
11. **并发底层：** 锁等待是如何实现的？（例如自旋、操作系统挂起等）
12. **多线程初始化问题：** 在多线程环境下进行对象初始化时可能会遇到哪些问题？如何解决？
13. **系统高可用：** 当系统面临突发流量激增时，有哪些应对策略？

### **内包二面（大厂正职）**

1. **薪资期望沟通**
2. **项目经验详细介绍**
3. **技术挑战与亮点：** 项目中遇到的最大技术难点或最有成就感的技术亮点是什么？
4. **项目落地：** 项目从设计到最终实施和落地过程中，遇到了哪些挑战？
5. **项目管理：** 在项目推进过程中，如何进行风险管控？
6. **架构设计：** 参与过的架构升级主要包含哪些内容？是如何进行设计的？
7. **框架理解：** 你是如何理解 Spring Boot 框架的？
8. **Spring Boot 特性：** Spring Boot 的核心特性有哪些？
9. **Spring Boot 原理：** 请谈谈 Spring Boot 的配置管理和自动装配原理。
10. **技术深度：** 对于项目中使用的技术组件，你的研究深度达到了哪个层次？
11. **技术积累：** 你是如何进行技术深度和广度积累的？
12. **职业发展：** 如果实际工作内容与你的技术发展方向不完全一致，你会如何处理？
13. **技术钻研：** 你是如何进行技术深度挖掘的？
14. **技术实践：** 请举例说明你深入研究某项技术的具体案例。
15. **未来规划：** 未来的技术发展路线和技能提升方向是怎样的？



## **一面**

1. 自我介绍：简述技术背景、项目经验亮点、个人优势。
2. 分布式缓存和本地缓存各自适用于哪些场景：分布式缓存（如 Redis）用于多实例共享/大数据量，本地缓存（如 Caffeine/Guava Cache）用于单实例热点数据加速。
3. `ThreadLocal` 的主要应用场景有哪些？使用时需要注意什么潜在的内存泄漏问题及如何避免？：场景如用户信息、Trace ID，数据库连接存储；泄漏因`ThreadLocalMap` 的 `key` 和 `value` 引用机制，需手动 `remove()`。
4. 请描述一下你如何排查线上内存泄漏问题：使用 MAT (Memory Analyzer Tool)或者 JDK 自带的`jvisualvm`分析 Heap Dump 文件。
5. 死锁问题怎么排查：使用`jmap`、`jstack`等命令查看 JVM 线程栈和堆内存的情况。如果有死锁，`jstack` 的输出中通常会有 `Found one Java-level deadlock`。或者，采用 VisualVM、JConsole 等工具进行可视化排查。具体可以参考这篇文章：[如何检测和避免线程死锁?](https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&mid=2247543022&idx=1&sn=22d7f9be4f68ffd1fee87accde6259be&scene=21#wechat_redirect) 。
6. 请描述一下 Spring Bean 的完整生命周期，涉及哪些关键阶段和扩展点：实例化 —> 属性赋值 —> 初始化 —> 销毁。之前分享的[理想校招面经](https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&mid=2247547167&idx=1&sn=031c0a34eb3e5cdfe127d8cf9272e399&scene=21#wechat_redirect)也问到了这个问题，里面有详细参考答案。
7. 请解释 Spring AOP 的底层实现原理？你在项目中是如何应用 AOP 的（例如日志、事务、权限）：原理基于 JDK 动态代理/CGLIB；项目应用如日志/事务/权限控制。
8. 如何实现分布式锁：一般可以[基于 Redis 来实现分布式锁](https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&mid=2247534440&idx=1&sn=96a4de944bd62b59fc4c033f93a89bf4&scene=21#wechat_redirect)。
9. 请设计并实现一个支持 LRU（最近最少使用）或 LFU（最不经常使用）淘汰策略的分布式缓存：LRU 用 Redis ZSet+Hash 或 `LinkedHashMap` 模拟；LFU 用双 ZSet 或多 `HashMap` 模拟。
10. 反问环节

## **二面**

1. 请详细介绍一下你参与的核心项目，重点突出技术挑战、解决方案和你的贡献：根据自身项目提前准备。
2. 在你的项目中，对于数据量庞大的历史订单，是如何设计查询方案以保证性能的：冷热数据分离、数据归档、引入 ES 检索、特定存储优化。
3. 在分库分表的架构下，你采用了什么方案来保证跨库或跨表操作的数据一致性：引出分布式事务解决方案，或最终一致性策略。
4. 请介绍你了解或使用过的分布式事务解决方案及其优缺点：2PC/TCC/SAGA/本地消息表/MQ 事务消息等方案原理及优劣。
5. 请分享你在项目中遇到的最有挑战性的技术难题是什么，怎么解决的：运用 STAR 法则，突出分析过程、解决方案的技术含量和最终效果。
6. 适配器模式的应用场景：核心价值是解决接口不兼容的问题，尤其在系统集成、功能扩展或技术升级中非常常见。它能有效降低代码耦合，提升系统的扩展性和维护性。
7. 多线程手撕题交替打印数字：我之前写文章分享过这个问题的答案：[两个线程交替打印 1-100 如何实现？](https://mp.weixin.qq.com/s?__biz=Mzg2OTA0Njk0OA==&mid=2247547707&idx=1&sn=045c815782858eaf74e2940f6f52bd99&chksm=cea174f0f9d6fde63212f091872c2afc1f9bcacf248b9c01e32ea6de9b666885c62bf2189338&scene=21&cur_album_id=1352302538565189634#wechat_redirect)。
8. LeetCode 322. 零钱兑换 (Medium)：动态规划，dp[i] 表示凑成金额 i 的最少硬币数。
9. 反问环节